<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>üéØ LONDON 2020 - X-Bet</title>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* ===== RESET & VARIABLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --primary: #ff4081;
            --secondary: #3949ab;
            --accent: #2196f3;
            --success: #4caf50;
            --warning: #ff9800;
            --danger: #ff5252;
            --dark: #0f0c29;
            --dark-light: #1a1a2e;
            --light: #f8f9fa;
            --text: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.7);
            --gradient: linear-gradient(135deg, #ff4081 0%, #302b63 50%, #24243e 100%);
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            color: var(--text);
            min-height: 100vh;
            padding: 0;
            margin: 0;
        }
        
        /* ===== MAIN CONTAINER ===== */
        .app-container {
            max-width: 100%;
            min-height: 100vh;
            background: rgba(0, 0, 0, 0.7);
            border-left: 3px solid var(--primary);
            border-right: 3px solid var(--primary);
            margin: 0 auto;
            position: relative;
            padding-bottom: 80px; /* Space for bottom nav */
        }
        
        /* ===== STICKY HEADER ===== */
        .sticky-header {
            position: sticky;
            top: 0;
            z-index: 100;
            background: rgba(15, 12, 41, 0.98);
            backdrop-filter: blur(10px);
            padding: 12px 16px;
            border-bottom: 2px solid var(--primary);
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }
        
        .logo-area {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .logo {
            font-size: 20px;
            font-weight: bold;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .logo::before {
            content: "¬£";
            color: gold;
            font-size: 24px;
            text-shadow: 0 0 10px gold;
        }
        
        .live-badge {
            background: var(--success);
            color: white;
            padding: 4px 8px;
            border-radius: 20px;
            font-size: 10px;
            font-weight: bold;
        }
        
        .header-balance {
            background: var(--success);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 14px;
            box-shadow: 0 2px 8px rgba(76, 175, 80, 0.3);
            display: none;
        }
        
        /* ===== MAIN CONTENT ===== */
        .main-content {
            padding: 16px;
        }
        
        /* ===== HERO SECTION ===== */
        .hero-section {
            text-align: center;
            padding: 24px 16px;
            background: rgba(255, 64, 129, 0.1);
            border-radius: 20px;
            margin-bottom: 24px;
            border: 2px dashed var(--primary);
        }
        
        .hero-title {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 8px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .hero-subtitle {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }
        
        /* ===== BONUS CARD ===== */
        .bonus-card {
            background: linear-gradient(45deg, var(--primary), var(--warning));
            padding: 24px 16px;
            border-radius: 20px;
            margin: 20px 0;
            box-shadow: 0 10px 25px rgba(255, 64, 129, 0.4);
        }
        
        .bonus-title {
            font-size: 18px;
            margin-bottom: 8px;
        }
        
        .bonus-amount {
            font-size: 48px;
            font-weight: bold;
            color: gold;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.7);
            animation: pulse 2s infinite;
            margin: 10px 0;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .bonus-text {
            font-size: 12px;
            opacity: 0.9;
            margin: 10px 0;
        }
        
        .bonus-status {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            margin: 8px 0;
        }
        
        .bonus-available {
            background: rgba(76, 175, 80, 0.2);
            color: #4caf50;
            border: 1px solid rgba(76, 175, 80, 0.3);
        }
        
        .bonus-claimed {
            background: rgba(255, 152, 0, 0.2);
            color: #ff9800;
            border: 1px solid rgba(255, 152, 0, 0.3);
        }
        
        .claim-btn {
            background: white;
            color: var(--primary);
            border: none;
            border-radius: 50px;
            padding: 14px 30px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin: 15px 0 10px;
            width: 100%;
            max-width: 280px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .claim-btn:active {
            transform: scale(0.98);
        }
        
        .claim-btn:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }
        
        /* ===== AUTH BUTTONS ===== */
        .auth-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin: 20px 0;
        }
        
        .auth-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 10px;
            font-weight: bold;
            font-size: 14px;
            cursor: pointer;
            max-width: 120px;
        }
        
        .login-btn {
            background: var(--secondary);
            color: white;
        }
        
        .register-btn {
            background: var(--primary);
            color: white;
        }
        
        .logout-btn {
            background: var(--danger);
            color: white;
        }
        
        .user-greeting {
            display: flex;
            align-items: center;
            gap: 10px;
            justify-content: center;
            margin: 15px 0;
        }
        
        .username {
            font-weight: bold;
            color: var(--primary);
        }
        
        /* ===== QUICK ACCESS GRID ===== */
        .section-title {
            font-size: 20px;
            margin: 25px 0 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .quick-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 25px;
        }
        
        .quick-item {
            background: #1e293b;
            padding: 12px 5px;
            border-radius: 12px;
            text-align: center;
            text-decoration: none;
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .quick-item:active {
            background: var(--primary);
            transform: scale(0.95);
        }
        
        .quick-icon {
            font-size: 22px;
            display: block;
            margin-bottom: 4px;
        }
        
        .quick-label {
            font-size: 11px;
            font-weight: 600;
        }
        
        /* ===== GAMES SECTION ===== */
        .games-grid {
            display: flex;
            overflow-x: auto;
            gap: 15px;
            padding: 10px 0 20px;
            scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch;
        }
        
        .games-grid::-webkit-scrollbar {
            display: none;
        }
        
        .game-card {
            min-width: 240px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            text-decoration: none;
            color: white;
            scroll-snap-align: start;
        }
        
        .game-card:active {
            background: rgba(255, 64, 129, 0.2);
            transform: scale(0.98);
        }
        
        .game-icon {
            font-size: 48px;
            margin-bottom: 12px;
        }
        
        .game-name {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .game-desc {
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: 12px;
        }
        
        .game-rtp {
            color: var(--accent);
            font-size: 14px;
            font-weight: bold;
        }
        
        /* ===== WINNERS SLIDER ===== */
        .winners-slider {
            display: flex;
            gap: 15px;
            overflow-x: auto;
            padding: 10px 0 20px;
            scroll-snap-type: x mandatory;
        }
        
        .winners-slider::-webkit-scrollbar {
            display: none;
        }
        
        .winner-card {
            min-width: 260px;
            background: #1a1a2e;
            border-radius: 16px;
            padding: 16px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            scroll-snap-align: start;
        }
        
        .winner-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }
        
        .winner-avatar {
            width: 44px;
            height: 44px;
            background: linear-gradient(45deg, var(--primary), var(--warning));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
        }
        
        .winner-info h4 {
            font-size: 16px;
            margin-bottom: 2px;
        }
        
        .winner-meta {
            font-size: 12px;
            color: var(--text-secondary);
        }
        
        .winner-amount {
            font-size: 24px;
            font-weight: bold;
            color: gold;
            margin: 8px 0;
        }
        
        .winner-game {
            font-size: 13px;
            color: var(--text-secondary);
        }
        
        /* ===== COUNTRIES GRID ===== */
        .countries-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin: 20px 0;
        }
        
        .country-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
        }
        
        .country-flag {
            font-size: 24px;
        }
        
        .country-name {
            flex: 1;
            font-size: 14px;
        }
        
        .country-count {
            font-weight: bold;
            color: var(--primary);
            font-size: 14px;
        }
        
        /* ===== STATS CARD ===== */
        .stats-card {
            background: rgba(76, 175, 80, 0.1);
            padding: 20px;
            border-radius: 16px;
            text-align: center;
            margin: 25px 0;
            border: 1px solid rgba(76, 175, 80, 0.3);
        }
        
        .stats-label {
            font-size: 12px;
            opacity: 0.8;
            margin-bottom: 5px;
        }
        
        .stats-number {
            font-size: 36px;
            font-weight: bold;
            color: var(--success);
            margin-bottom: 5px;
        }
        
        .stats-details {
            font-size: 13px;
            color: var(--text-secondary);
        }
        
        .stats-highlight {
            color: gold;
            font-weight: bold;
        }
        
        /* ===== CTA SECTION ===== */
        .cta-section {
            background: rgba(255, 64, 129, 0.1);
            padding: 25px 20px;
            border-radius: 20px;
            text-align: center;
            margin: 25px 0;
        }
        
        .cta-title {
            font-size: 20px;
            margin-bottom: 10px;
        }
        
        .cta-text {
            color: var(--text-secondary);
            font-size: 14px;
            margin-bottom: 20px;
        }
        
        .cta-button {
            background: linear-gradient(45deg, var(--primary), var(--warning));
            color: white;
            border: none;
            border-radius: 50px;
            padding: 14px 30px;
            font-size: 16px;
            font-weight: bold;
            width: 100%;
            max-width: 280px;
            margin: 0 auto;
            display: block;
        }
        
        /* ===== FOOTER ===== */
        .footer {
            text-align: center;
            padding: 25px 16px 15px;
            border-top: 1px solid var(--secondary);
            margin-top: 30px;
        }
        
        .footer-title {
            font-size: 18px;
            margin-bottom: 8px;
        }
        
        .footer-text {
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: 15px;
        }
        
        .footer-links {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 15px 0;
        }
        
        .footer-link {
            background: var(--secondary);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            text-decoration: none;
            font-size: 12px;
        }
        
        .footer-link.warning {
            background: var(--warning);
        }
        
        .footer-status {
            font-size: 11px;
            opacity: 0.5;
            margin-top: 15px;
        }
        
        /* ===== BOTTOM NAVIGATION ===== */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #1a1a2e;
            border-top: 2px solid var(--primary);
            display: flex;
            justify-content: space-around;
            padding: 8px 0 12px;
            z-index: 1000;
            box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.5);
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: rgba(255, 255, 255, 0.6);
            font-size: 11px;
            flex: 1;
        }
        
        .nav-item.active {
            color: var(--primary);
        }
        
        .nav-item:active {
            background: rgba(255, 64, 129, 0.2);
        }
        
        .nav-icon {
            font-size: 22px;
            margin-bottom: 2px;
        }
        
        /* ===== LOADING OVERLAY ===== */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--dark);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s;
        }
        
        .loading-overlay.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255, 64, 129, 0.3);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 15px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* ===== TOAST NOTIFICATIONS ===== */
        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1001;
        }
        
        .toast {
            background: #1a1a2e;
            border-left: 4px solid var(--success);
            padding: 12px 16px;
            margin-top: 10px;
            border-radius: 8px;
            min-width: 250px;
            font-size: 14px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            animation: slideIn 0.3s;
        }
        
        .toast.error {
            border-left-color: var(--danger);
        }
        
        .toast.warning {
            border-left-color: var(--warning);
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        /* ===== UTILITY CLASSES ===== */
        .hidden {
            display: none !important;
        }
        
        /* ===== MONEY ANIMATION ===== */
        .money-rain {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: -1;
        }
        
        .money-item {
            position: fixed;
            font-size: 24px;
            color: gold;
            text-shadow: 0 0 10px gold;
            animation: fall linear infinite;
        }
        
        @keyframes fall {
            to { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
        
        /* ===== IPHONE 14/15 OPTIMIZATIONS ===== */
        @media (min-width: 390px) and (max-width: 430px) {
            .hero-title {
                font-size: 32px;
            }
            
            .bonus-amount {
                font-size: 56px;
            }
            
            .game-card {
                min-width: 260px;
            }
        }
        
        /* iPhone SE / small devices */
        @media (max-width: 375px) {
            .hero-title {
                font-size: 24px;
            }
            
            .quick-label {
                font-size: 10px;
            }
            
            .game-card {
                min-width: 220px;
            }
        }
    </style>
</head>
<body>
    <!-- Money Rain Animation -->
    <div class="money-rain" id="moneyRain"></div>
    
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
        <p>Loading London 2020...</p>
    </div>
    
    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>
    
    <!-- Main App Container -->
    <div class="app-container">
        
        <!-- Sticky Header -->
        <header class="sticky-header">
            <div class="logo-area">
                <span class="logo">LONDON 2020</span>
                <span class="live-badge">‚óè LIVE</span>
            </div>
            <div class="header-balance" id="headerBalance">$0.00</div>
        </header>
        
        <!-- Main Content -->
        <div class="main-content">
            
            <!-- Hero Section -->
            <section class="hero-section">
                <h1 class="hero-title">WELCOME TO LONDON 2020</h1>
                <p class="hero-subtitle">Premium betting experience with instant rewards</p>
            </section>
            
            <!-- Auth Section - ALWAYS VISIBLE -->
            <div id="authSection">
                <!-- Not Logged In State -->
                <div id="notLoggedIn">
                    <div class="auth-buttons">
                        <button class="auth-btn login-btn" id="loginBtn">Login</button>
                        <button class="auth-btn register-btn" id="registerBtn">Register</button>
                    </div>
                </div>
                
                <!-- Logged In State -->
                <div id="loggedIn" class="hidden">
                    <div class="user-greeting">
                        <span>Welcome, <span class="username" id="username">Player</span>!</span>
                        <button class="auth-btn logout-btn" id="logoutBtn">Logout</button>
                    </div>
                </div>
            </div>
            
            <!-- Bonus Card - ALWAYS VISIBLE -->
            <div class="bonus-card" id="bonus">
                <h2 class="bonus-title">üéÅ LIFETIME WELCOME BONUS</h2>
                <div class="bonus-amount">$2.00</div>
                <p class="bonus-text">Register now and get $2.00 instantly! (One-time only)</p>
                
                <!-- Bonus Status -->
                <div id="bonusStatus" class="bonus-status bonus-available hidden">
                    <span id="bonusStatusText">Bonus Available</span>
                </div>
                
                <button class="claim-btn" id="claimBonusBtn">
                    üéØ CLAIM $2.00 BONUS
                </button>
                
                <p class="bonus-text" style="font-size: 11px;">
                    <i class="fas fa-info-circle"></i> One-time lifetime bonus for new members
                </p>
            </div>
            
            <!-- Quick Access Grid -->
            <h3 class="section-title">
                <span>üì± QUICK ACCESS</span>
            </h3>
            
            <div class="quick-grid">
                <a href="markets.html?tab=forex" class="quick-item">
                    <span class="quick-icon">üìà</span>
                    <span class="quick-label">Forex</span>
                </a>
                <a href="markets.html?tab=crypto" class="quick-item">
                    <span class="quick-icon">‚Çø</span>
                    <span class="quick-label">Crypto</span>
                </a>
                <a href="markets.html?tab=commodities" class="quick-item">
                    <span class="quick-icon">üèÜ</span>
                    <span class="quick-label">Gold</span>
                </a>
                <a href="sports.html" class="quick-item">
                    <span class="quick-icon">‚öΩ</span>
                    <span class="quick-label">Sports</span>
                </a>
            </div>
            
            <!-- Featured Games Section -->
            <h3 class="section-title">
                <span>üéÆ FEATURED GAMES</span>
            </h3>
            
            <div class="games-grid">
                <!-- Slot Machine -->
                <a href="slots.html" class="game-card">
                    <div class="game-icon">üé∞</div>
                    <div class="game-name">Slot Machine</div>
                    <div class="game-desc">Classic slots up to 100x</div>
                    <div class="game-rtp">97.5% RTP</div>
                </a>
                
                <!-- Blackjack -->
                <a href="blackjack.html" class="game-card">
                    <div class="game-icon">üÉè</div>
                    <div class="game-name">Blackjack</div>
                    <div class="game-desc">Beat the dealer to 21</div>
                    <div class="game-rtp">98.2% RTP</div>
                </a>
                
                <!-- Roulette -->
                <a href="roulette.html" class="game-card">
                    <div class="game-icon">üé°</div>
                    <div class="game-name">Roulette</div>
                    <div class="game-desc">$1.2M jackpot</div>
                    <div class="game-rtp">96.8% RTP</div>
                </a>
                
                <!-- Video Poker -->
                <a href="https://xcrazybet.github.io/millioner/pocker.html" target="_blank" class="game-card">
                    <div class="game-icon">‚ô†Ô∏è</div>
                    <div class="game-name">Video Poker</div>
                    <div class="game-desc">Play with real players</div>
                    <div class="game-rtp">99.0% RTP</div>
                </a>
            </div>
            
            <!-- Recent Winners Section -->
            <h3 class="section-title">
                <span>üèÜ RECENT WINNERS</span>
            </h3>
            
            <div class="winners-slider" id="winnersSlider">
                <!-- Winners will be populated by JavaScript -->
            </div>
            
            <!-- Global Community Section -->
            <h3 class="section-title">
                <span>üåç GLOBAL COMMUNITY</span>
            </h3>
            
            <div class="countries-grid" id="countriesGrid">
                <div class="country-item">
                    <span class="country-flag">üá∫üá∏</span>
                    <span class="country-name">United States</span>
                    <span class="country-count">85,432</span>
                </div>
                <div class="country-item">
                    <span class="country-flag">üá¨üáß</span>
                    <span class="country-name">United Kingdom</span>
                    <span class="country-count">42,156</span>
                </div>
                <div class="country-item">
                    <span class="country-flag">üá©üá™</span>
                    <span class="country-name">Germany</span>
                    <span class="country-count">38,921</span>
                </div>
                <div class="country-item">
                    <span class="country-flag">üá®üá¶</span>
                    <span class="country-name">Canada</span>
                    <span class="country-count">31,487</span>
                </div>
                <div class="country-item">
                    <span class="country-flag">üá¶üá∫</span>
                    <span class="country-name">Australia</span>
                    <span class="country-count">28,634</span>
                </div>
                <div class="country-item">
                    <span class="country-flag">üáØüáµ</span>
                    <span class="country-name">Japan</span>
                    <span class="country-count">25,912</span>
                </div>
            </div>
            
            <!-- Stats Card -->
            <div class="stats-card">
                <div class="stats-label">TOTAL PLAYERS</div>
                <div class="stats-number" id="totalPlayers">500K+</div>
                <div class="stats-details">
                    <span class="stats-highlight">$45M+</span> Total Winnings ‚Ä¢ <span class="stats-highlight">99.7%</span> Payout
                </div>
            </div>
            
            <!-- CTA Section (shown when not logged in) -->
            <div class="cta-section" id="loginCTA">
                <h3 class="cta-title">Ready to Play?</h3>
                <p class="cta-text">
                    Create your account in 30 seconds and claim your $2.00 welcome bonus!
                </p>
                <button class="cta-button" id="registerHeroBtn">
                    üéÅ GET $2.00 BONUS
                </button>
                <p style="margin-top: 15px; font-size: 12px; color: var(--text-secondary);">
                    Check out our <a href="https://xcrazybet.github.io/millioner/gifts.html" style="color: var(--primary);">üéÅ Gifts Page</a>
                </p>
            </div>
            
            <!-- Footer -->
            <footer class="footer">
                <div class="footer-title">London 2020</div>
                <div class="footer-text">Responsible gaming is our priority</div>
                
                <div class="footer-links">
                    <a href="wallets.html" class="footer-link">üí≥ Wallet</a>
                    <a href="https://xcrazybet.github.io/millioner/gifts.html" class="footer-link warning">üéÅ Gifts</a>
                    <a href="games.html" class="footer-link">üéÆ Games</a>
                </div>
                
                <div class="footer-status">
                    Site Status: <span id="siteStatus">‚úÖ ONLINE</span> ‚Ä¢ 
                    Last Update: <span id="updateTime">Just now</span>
                </div>
            </footer>
        </div>
    </div>
    
    <!-- Bottom Navigation (Mobile) -->
    <nav class="bottom-nav">
        <a href="index.html" class="nav-item active">
            <span class="nav-icon">üè†</span>
            <span>Home</span>
        </a>
        <a href="games.html" class="nav-item">
            <span class="nav-icon">üéÆ</span>
            <span>Games</span>
        </a>
        <a href="markets.html" class="nav-item">
            <span class="nav-icon">üìà</span>
            <span>Markets</span>
        </a>
        <a href="sports.html" class="nav-item">
            <span class="nav-icon">‚öΩ</span>
            <span>Sports</span>
        </a>
        <a href="wallets.html" class="nav-item">
            <span class="nav-icon">üí≥</span>
            <span>Wallet</span>
        </a>
    </nav>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyA72Yo_YGqno9PX25p3yQBvyflcaM-NqEM",
            authDomain: "x-bet-prod-jd.firebaseapp.com",
            projectId: "x-bet-prod-jd",
            storageBucket: "x-bet-prod-jd.firebasestorage.app",
            messagingSenderId: "499334334535",
            appId: "1:499334334535:web:bebc1bf817e24d9e3c4962",
            measurementId: "G-PTV4XMYQ6P"
        };
        
        // Global Variables
        let auth, db;
        let currentUser = null;
        let userData = null;
        let userHasClaimedBonus = false;
        
        // Initialize App
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                // Initialize Firebase
                firebase.initializeApp(firebaseConfig);
                auth = firebase.auth();
                db = firebase.firestore();
                
                console.log("‚úÖ Firebase initialized");
                
                // Create money animation
                createMoneyAnimation();
                
                // Setup auth listener
                auth.onAuthStateChanged(handleAuthStateChange);
                
                // Load winners
                loadWinners();
                
                // Start live stats
                startLiveStats();
                
                // Setup event listeners
                setupEventListeners();
                
                // Update time
                updateTime();
                
                // Hide loading overlay
                setTimeout(() => {
                    document.getElementById('loadingOverlay').classList.add('hidden');
                }, 1000);
                
                // Show welcome toast
                if (!localStorage.getItem('bonusShown')) {
                    setTimeout(() => {
                        showToast('üéÅ New members get $2.00 lifetime bonus!', 'success');
                    }, 2000);
                    localStorage.setItem('bonusShown', 'true');
                }
                
            } catch (error) {
                console.error("Initialization error:", error);
                showToast('‚ùå Error initializing', 'error');
            }
        });
        
        // Create Money Animation
        function createMoneyAnimation() {
            const container = document.getElementById('moneyRain');
            const symbols = ['üí∞', 'üíµ', 'üí∏', 'ü™ô', 'üíé'];
            
            for (let i = 0; i < 15; i++) {
                const money = document.createElement('div');
                money.className = 'money-item';
                money.textContent = symbols[Math.floor(Math.random() * symbols.length)];
                money.style.left = Math.random() * 100 + '%';
                money.style.animationDuration = (Math.random() * 10 + 8) + 's';
                money.style.animationDelay = Math.random() * 5 + 's';
                money.style.fontSize = (Math.random() * 20 + 20) + 'px';
                container.appendChild(money);
            }
        }
        
        // Auth State Handler
        function handleAuthStateChange(user) {
            if (user) {
                // User is logged in
                currentUser = user;
                loadUserData();
                showLoggedIn();
                checkBonusStatus();
            } else {
                // User is logged out
                currentUser = null;
                userData = null;
                userHasClaimedBonus = false;
                showLoggedOut();
            }
        }
        
        // Show Logged In State
        function showLoggedIn() {
            document.getElementById('notLoggedIn').classList.add('hidden');
            document.getElementById('loggedIn').classList.remove('hidden');
            document.getElementById('loginCTA').classList.add('hidden');
            document.getElementById('headerBalance').style.display = 'block';
        }
        
        // Show Logged Out State
        function showLoggedOut() {
            document.getElementById('notLoggedIn').classList.remove('hidden');
            document.getElementById('loggedIn').classList.add('hidden');
            document.getElementById('loginCTA').classList.remove('hidden');
            document.getElementById('headerBalance').style.display = 'none';
        }
        
        // Load User Data
        async function loadUserData() {
            try {
                const userDoc = await db.collection('wallets').doc(currentUser.uid).get();
                
                if (userDoc.exists) {
                    userData = userDoc.data();
                    updateUserDisplay();
                    
                    // Real-time listener
                    db.collection('wallets').doc(currentUser.uid).onSnapshot(doc => {
                        if (doc.exists) {
                            userData = doc.data();
                            updateUserDisplay();
                        }
                    });
                }
            } catch (error) {
                console.error("Error loading user data:", error);
            }
        }
        
        // Update User Display
        function updateUserDisplay() {
            if (!userData) return;
            
            const balance = userData.balance || 0;
            const balanceFormatted = `$${balance.toFixed(2)}`;
            
            document.getElementById('headerBalance').textContent = balanceFormatted;
            document.getElementById('username').textContent = userData.username || currentUser.email.split('@')[0];
        }
        
        // Check Bonus Status
        async function checkBonusStatus() {
            if (!currentUser) return;
            
            try {
                const walletDoc = await db.collection('wallets').doc(currentUser.uid).get();
                
                if (walletDoc.exists) {
                    userHasClaimedBonus = walletDoc.data().bonusClaimed || false;
                    updateBonusStatusDisplay();
                }
            } catch (error) {
                console.error("Error checking bonus:", error);
            }
        }
        
        // Update Bonus Status Display
        function updateBonusStatusDisplay() {
            const bonusStatus = document.getElementById('bonusStatus');
            const statusText = document.getElementById('bonusStatusText');
            const claimBtn = document.getElementById('claimBonusBtn');
            
            if (userHasClaimedBonus) {
                bonusStatus.classList.remove('bonus-available', 'hidden');
                bonusStatus.classList.add('bonus-claimed');
                statusText.innerHTML = '‚úÖ Bonus Already Claimed';
                claimBtn.disabled = true;
                claimBtn.innerHTML = '‚úÖ BONUS CLAIMED';
            } else {
                bonusStatus.classList.remove('bonus-claimed', 'hidden');
                bonusStatus.classList.add('bonus-available');
                statusText.innerHTML = 'üéÅ $2.00 Bonus Available';
                claimBtn.disabled = false;
                claimBtn.innerHTML = 'üéØ CLAIM $2.00 BONUS';
            }
        }
        
        // Claim Bonus
        async function claimBonus() {
            try {
                if (!currentUser) {
                    showToast('Please login first', 'warning');
                    window.location.href = 'login.html';
                    return;
                }
                
                if (userHasClaimedBonus) {
                    showToast('Bonus already claimed!', 'warning');
                    return;
                }
                
                const claimBtn = document.getElementById('claimBonusBtn');
                claimBtn.disabled = true;
                claimBtn.innerHTML = '‚è≥ Processing...';
                
                const walletRef = db.collection('wallets').doc(currentUser.uid);
                
                await db.runTransaction(async (transaction) => {
                    const walletDoc = await transaction.get(walletRef);
                    
                    if (walletDoc.data().bonusClaimed) {
                        throw new Error('Already claimed');
                    }
                    
                    const currentBalance = walletDoc.data().balance || 0;
                    
                    transaction.update(walletRef, {
                        balance: currentBalance + 2.00,
                        bonusClaimed: true,
                        bonusClaimedAt: new Date()
                    });
                });
                
                userHasClaimedBonus = true;
                updateBonusStatusDisplay();
                showToast('üéâ $2.00 bonus added!', 'success');
                
                // Refresh user data
                loadUserData();
                
            } catch (error) {
                console.error("Claim error:", error);
                showToast('‚ùå Error claiming bonus', 'error');
                
                document.getElementById('claimBonusBtn').disabled = false;
                document.getElementById('claimBonusBtn').innerHTML = 'üéØ CLAIM $2.00 BONUS';
            }
        }
        
        // Load Winners
        function loadWinners() {
            const winners = [
                { name: "Alex Johnson", country: "üá∫üá∏", amount: 12450, game: "Roulette", time: "2 min ago", initials: "AJ" },
                { name: "Maria Garcia", country: "üá™üá∏", amount: 8450, game: "Lucky Dice", time: "5 min ago", initials: "MG" },
                { name: "Kenji Tanaka", country: "üáØüáµ", amount: 23100, game: "Slots", time: "10 min ago", initials: "KT" },
                { name: "Sarah Miller", country: "üá®üá¶", amount: 5600, game: "Poker", time: "15 min ago", initials: "SM" },
                { name: "David Smith", country: "üá¨üáß", amount: 18900, game: "Blackjack", time: "20 min ago", initials: "DS" }
            ];
            
            const container = document.getElementById('winnersSlider');
            container.innerHTML = '';
            
            winners.forEach(winner => {
                const card = document.createElement('div');
                card.className = 'winner-card';
                card.innerHTML = `
                    <div class="winner-header">
                        <div class="winner-avatar">${winner.initials}</div>
                        <div class="winner-info">
                            <h4>${winner.name}</h4>
                            <div class="winner-meta">${winner.country} ‚Ä¢ ${winner.time}</div>
                        </div>
                    </div>
                    <div class="winner-amount">$${winner.amount.toLocaleString()}</div>
                    <div class="winner-game">Won playing <strong>${winner.game}</strong></div>
                `;
                container.appendChild(card);
            });
        }
        
        // Start Live Stats
        function startLiveStats() {
            setInterval(() => {
                const players = ['500K+', '505K+', '510K+', '515K+', '520K+'];
                document.getElementById('totalPlayers').textContent = 
                    players[Math.floor(Math.random() * players.length)];
            }, 10000);
        }
        
        // Update Time
        function updateTime() {
            const now = new Date();
            document.getElementById('updateTime').textContent = 
                now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            setTimeout(updateTime, 60000);
        }
        
        // Show Toast
        function showToast(message, type = 'info') {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.innerHTML = `<i class="fas ${type === 'success' ? 'fa-check-circle' : type === 'error' ? 'fa-exclamation-circle' : 'fa-info-circle'}"></i> ${message}`;
            
            container.appendChild(toast);
            
            setTimeout(() => {
                toast.style.opacity = '0';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }
        
        // Setup Event Listeners
        function setupEventListeners() {
            document.getElementById('loginBtn').addEventListener('click', () => {
                window.location.href = 'login.html';
            });
            
            document.getElementById('registerBtn').addEventListener('click', () => {
                window.location.href = 'register.html';
            });
            
            document.getElementById('registerHeroBtn').addEventListener('click', () => {
                window.location.href = 'register.html';
            });
            
            document.getElementById('claimBonusBtn').addEventListener('click', claimBonus);
            
            document.getElementById('logoutBtn').addEventListener('click', async () => {
                try {
                    await auth.signOut();
                    showToast('Logged out successfully', 'success');
                } catch (error) {
                    showToast('Error logging out', 'error');
                }
            });
        }
    </script>
</body>
</html>
